
> vite_react_shadcn_ts@0.0.0 test
> vitest src/pages/inventory/__tests__/InventoryDashboard.test.tsx run


[1m[44m DEV [49m[22m [34mv4.0.10 [39m[90mC:/Users/elija/OneDrive/Desktop/ERP-main (6)/isp-opus-forge-main[39m

[90mstdout[2m | src/pages/inventory/__tests__/InventoryDashboard.test.tsx[2m > [22m[2mInventory Dashboard[2m > [22m[2mhandles search functionality
[22m[39mSearch results: []

(node:11272) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
 [31mÃ”Ã˜Â»[39m src/pages/inventory/__tests__/InventoryDashboard.test.tsx [2m([22m[2m4 tests[22m[2m | [22m[31m3 failed[39m[2m)[22m[33m 1969[2mms[22m[39m
     [32mÃ”Â£Ã´[39m renders inventory dashboard correctly[32m 282[2mms[22m[39m
[31m     [31mâ”œÃ¹[31m displays low stock warning[39m[32m 184[2mms[22m[39m
[31m     [31mâ”œÃ¹[31m handles search functionality[39m[33m 1383[2mms[22m[39m
[31m     [31mâ”œÃ¹[31m triggers scrape all suppliers[39m[32m 112[2mms[22m[39m

Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â» Failed Tests 3 Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»

 FAIL  src/pages/inventory/__tests__/InventoryDashboard.test.tsx > Inventory Dashboard > displays low stock warning
TestingLibraryElementError: Found multiple elements with the text: Low Stock

Here are the matching elements:

Ignored nodes: comments, script, style
<h3
  class="tracking-tight text-sm font-medium"
>
  Low Stock
</h3>

Ignored nodes: comments, script, style
<div
  class="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 bg-orange-500/10 text-orange-500 border-orange-500/20"
>
  Low Stock
</div>

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
<body>
  <div>
    <div
      class="space-y-6"
    >
      <div
        class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"
      >
        <div>
          <h1
            class="text-3xl font-bold tracking-tight"
          >
            Inventory Management
          </h1>
          <p
            class="text-muted-foreground"
          >
            Manage products, stock levels, and supplier pricing
          </p>
        </div>
        <div
          class="flex gap-2"
        >
          <button
            class="justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2 flex items-center gap-2"
          >
            <svg
              class="lucide lucide-refresh-cw h-4 w-4"
              fill="none"
              height="24"
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              viewBox="0 0 24 24"
              width="24"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"
              />
              <path
                d="M21 3v5h-5"
              />
              <path
                d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"
              />
              <path
                d="M8 16H3v5"
              />
            </svg>
            Update Prices
          </button>
        </div>
      </div>
      <form
        class="flex gap-2"
      >
        <div
          class="relative flex-1"
        >
          <svg
            class="lucide lucide-search absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"
            fill="none"
            height="24"
            stroke="currentColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            viewBox="0 0 24 24"
            width="24"
            xmlns="http://www.w3.org/2000/svg"
          >
            <circle
              cx="11"
              cy="11"
              r="8"
            />
            <path
              d="m21 21-4.3-4.3"
            />
          </svg>
          <input
            class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm pl-10"
            placeholder="Search products by name, SKU, or category..."
            value=""
          />
        </div>
        <button
          class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"
          type="submit"
        >
          <svg
            class="lucide lucide-search h-4 w-4"
            fill="none"
            height="24"
            stroke="currentColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            viewBox="0 0 24 24"
            width="24"
            xmlns="http://www.w3.org/2000/svg"
          >
            <circle
              cx="11"
              cy="11"
              r="8"
            />
            <path
              d="m21 21-4.3-4.3"
            />
          </svg>
          Search
        </button>
      </form>
      <div
        class="grid gap-4 md:grid-cols-2 lg:grid-cols-4"
      >
        <div
          class="rounded-lg border bg-card text-card-foreground shadow-sm"
        >
          <div
            class="p-6 flex flex-row items-center justify-between space-y-0 pb-2"
          >
            <h3
              class="tracking-tight text-sm font-medium"
            >
              Total Products
            </h3>
            <svg
              class="lucide lucide-package h-4 w-4 text-muted-foreground"
              fill="none"
              height="24"
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              viewBox="0 0 24 24"
              width="24"...
 Ã”Ã˜Â» Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 Ã”Ã˜Â» getElementError node_modules/@testing-library/dom/dist/query-helpers.js:20:35
 Ã”Ã˜Â» getMultipleElementsFoundError node_modules/@testing-library/dom/dist/query-helpers.js:23:10
 Ã”Ã˜Â» node_modules/@testing-library/dom/dist/query-helpers.js:55:13
 Ã”Ã˜Â» getByText node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 Ã”Ã˜Â» src/pages/inventory/__tests__/InventoryDashboard.test.tsx:85:23
     83| 
     84|         // Cable 5m has stock 2, reorder 10 -> Low Stock
     85|         expect(screen.getByText('Low Stock')).toBeInTheDocument();
       |                       ^
     86|     });
     87| 

Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»[1/3]Ã”Ã„Â»

 FAIL  src/pages/inventory/__tests__/InventoryDashboard.test.tsx > Inventory Dashboard > handles search functionality
AssertionError: expected "vi.fn()" to be called with arguments: [ 'Router' ]

Received: 

  1st vi.fn() call:

  [
    "Router",
+   {
+     "client": QueryClient {},
+     "meta": undefined,
+     "mutationKey": undefined,
+   },
  ]


Number of calls: 1


Ignored nodes: comments, script, style
<html>
  <head />
  <body>
    <div>
      <div
        class="space-y-6"
      >
        <div
          class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"
        >
          <div>
            <h1
              class="text-3xl font-bold tracking-tight"
            >
              Inventory Management
            </h1>
            <p
              class="text-muted-foreground"
            >
              Manage products, stock levels, and supplier pricing
            </p>
          </div>
          <div
            class="flex gap-2"
          >
            <button
              class="justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2 flex items-center gap-2"
            >
              <svg
                class="lucide lucide-refresh-cw h-4 w-4"
                fill="none"
                height="24"
                stroke="currentColor"
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                viewBox="0 0 24 24"
                width="24"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"
                />
                <path
                  d="M21 3v5h-5"
                />
                <path
                  d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"
                />
                <path
                  d="M8 16H3v5"
                />
              </svg>
              Update Prices
            </button>
          </div>
        </div>
        <form
          class="flex gap-2"
        >
          <div
            class="relative flex-1"
          >
            <svg
              class="lucide lucide-search absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"
              fill="none"
              height="24"
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              viewBox="0 0 24 24"
              width="24"
              xmlns="http://www.w3.org/2000/svg"
            >
              <circle
                cx="11"
                cy="11"
                r="8"
              />
              <path
                d="m21 21-4.3-4.3"
              />
            </svg>
            <input
              class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm pl-10"
              placeholder="Search products by name, SKU, or category..."
              value="Router"
            />
          </div>
          <button
            class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"
            type="submit"
          >
            <svg
              class="lucide lucide-search h-4 w-4"
              fill="none"
              height="24"
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              viewBox="0 0 24 24"
              width="24"
              xmlns="http://www.w3.org/2000/svg"
            >
              <circle
                cx="11"
                cy="11"
                r="8"
              />
              <path
                d="m21 21-4.3-4.3"
              />
            </svg>
            Search
          </button>
        </form>
        <div
          class="grid gap-4 md:grid-cols-2 lg:grid-cols-4"
        >
          <div
            class="rounded-lg border bg-card text-card-foreground shadow-sm"
          >
            <div
              class="p-6 flex flex-row items-center justify-between space-y-0 pb-2"
            >
              <h3
                class="tracking-tight text-sm font-medium"
              >
                Total Products
              </h3>
              <svg
                class="lucide lucide-package h-4 w-4 text-muted-foreground"
                fill="none"
                height="24"
   ...
 Ã”Ã˜Â» src/pages/inventory/__tests__/InventoryDashboard.test.tsx:103:50
    101| 
    102|         await waitFor(() => {
    103|             expect(inventoryApi.searchInventory).toHaveBeenCalledWith(Ã”Ã‡Âª
       |                                                  ^
    104|         });
    105|     });
 Ã”Ã˜Â» runWithExpensiveErrorDiagnosticsDisabled node_modules/@testing-library/dom/dist/config.js:47:12
 Ã”Ã˜Â» checkCallback node_modules/@testing-library/dom/dist/wait-for.js:124:77
 Ã”Ã˜Â» Timeout.checkRealTimersCallback node_modules/@testing-library/dom/dist/wait-for.js:118:16

Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»[2/3]Ã”Ã„Â»

 FAIL  src/pages/inventory/__tests__/InventoryDashboard.test.tsx > Inventory Dashboard > triggers scrape all suppliers
TestingLibraryElementError: Found multiple elements with the role "button" and name `/update prices/i`

Here are the matching elements:

Ignored nodes: comments, script, style
<button
  class="justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2 flex items-center gap-2"
>
  <svg
    class="lucide lucide-refresh-cw h-4 w-4"
    fill="none"
    height="24"
    stroke="currentColor"
    stroke-linecap="round"
    stroke-linejoin="round"
    stroke-width="2"
    viewBox="0 0 24 24"
    width="24"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"
    />
    <path
      d="M21 3v5h-5"
    />
    <path
      d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"
    />
    <path
      d="M8 16H3v5"
    />
  </svg>
  Update Prices
</button>

Ignored nodes: comments, script, style
<button
  class="inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-9 rounded-md px-3"
>
  <svg
    class="lucide lucide-refresh-cw h-4 w-4 mr-1"
    fill="none"
    height="24"
    stroke="currentColor"
    stroke-linecap="round"
    stroke-linejoin="round"
    stroke-width="2"
    viewBox="0 0 24 24"
    width="24"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"
    />
    <path
      d="M21 3v5h-5"
    />
    <path
      d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"
    />
    <path
      d="M8 16H3v5"
    />
  </svg>
  Update Prices
</button>

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
<body>
  <div>
    <div
      class="space-y-6"
    >
      <div
        class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"
      >
        <div>
          <h1
            class="text-3xl font-bold tracking-tight"
          >
            Inventory Management
          </h1>
          <p
            class="text-muted-foreground"
          >
            Manage products, stock levels, and supplier pricing
          </p>
        </div>
        <div
          class="flex gap-2"
        >
          <button
            class="justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2 flex items-center gap-2"
          >
            <svg
              class="lucide lucide-refresh-cw h-4 w-4"
              fill="none"
              height="24"
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              viewBox="0 0 24 24"
              width="24"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"
              />
              <path
                d="M21 3v5h-5"
              />
              <path
                d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"
              />
              <path
                d="M8 16H3v5"
              />
            </svg>
            Update Prices
          </button>
        </div>
      </div>
      <form
        class="flex gap-2"
      >
        <div
          class="relative flex-1"
        >
          <svg
            class="lucide lucide-search absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"
            fill="none"
            height="24"
            stroke="currentColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            viewBox="0 0 24 24"
            width="24"
            xmlns="http://www.w3.org/2000/svg"
          >
            <circle
              cx="11"
              cy="11"
              r="8"
            />
            <path
              d="m21 21-4.3-4.3"
            />
          </svg>
          <input
            class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm pl-10"
            placeholder="Search products by name, SKU, or category..."
            value=""
          />
        </div>
        <button
          class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"
          type="submit"
        >
          <svg
            class="lucide lucide-search h-4 w-4"
            fill="none"
            height="24"
            stroke="currentColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            viewBox="0 0 24 24"
            width="24"
            xmlns="http://www.w3.org/2000/svg"
          >
            <circle
              cx="11"
              cy="11"
              r="8"
            />
            <path
              d="m21 21-4.3-4.3"
            />
          </svg>
          Search
        </button>
      </form>
      <div
        class="grid gap-4 md:grid-cols-2 lg:grid-cols-4"
      >
        <div
          class="rounded-lg border bg-card text-card-foreground shadow-sm"
        >
          <div
            class="p-6 flex flex-row items-center justify-between space-y-0 pb-2"
          >
            <h3
              class="tracking-tight text-sm font-medium"
            >
              Total Products
            </h3>
            <svg
              class="lucide lucide-package h-4 w-4 text-muted-foreground"
              fill="none"
              height="24"
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              viewBox="0 0 24 24"
              width="24"...
 Ã”Ã˜Â» Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 Ã”Ã˜Â» getElementError node_modules/@testing-library/dom/dist/query-helpers.js:20:35
 Ã”Ã˜Â» getMultipleElementsFoundError node_modules/@testing-library/dom/dist/query-helpers.js:23:10
 Ã”Ã˜Â» node_modules/@testing-library/dom/dist/query-helpers.js:55:13
 Ã”Ã˜Â» getByRole node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 Ã”Ã˜Â» src/pages/inventory/__tests__/InventoryDashboard.test.tsx:115:34
    113|         );
    114| 
    115|         const updateBtn = screen.getByRole('button', { name: /update pÃ”Ã‡Âª
       |                                  ^
    116|         fireEvent.click(updateBtn);
    117| 

Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»[3/3]Ã”Ã„Â»


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m3 failed[39m[22m[2m | [22m[1m[32m1 passed[39m[22m[90m (4)[39m
[2m   Start at [22m 20:09:56
[2m   Duration [22m 6.28s[2m (transform 502ms, setup 519ms, collect 909ms, tests 1.97s, environment 2.05s, prepare 27ms)[22m

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/pages/inventory/__tests__/InventoryDashboard.test.tsx [22m[34mx1 [34m[39m
       [2m Filename pattern: [22m[34msrc/pages/inventory/__tests__/InventoryDashboard.test.tsx, run[39m

[90mstdout[2m | src/pages/inventory/__tests__/InventoryDashboard.test.tsx[2m > [22m[2mInventory Dashboard[2m > [22m[2mhandles search functionality
[22m[39mSearch results: []

(node:17328) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
 [31mÃ”Ã˜Â»[39m src/pages/inventory/__tests__/InventoryDashboard.test.tsx [2m([22m[2m4 tests[22m[2m | [22m[31m2 failed[39m[2m)[22m[33m 1748[2mms[22m[39m
     [32mÃ”Â£Ã´[39m renders inventory dashboard correctly[32m 245[2mms[22m[39m
     [32mÃ”Â£Ã´[39m displays low stock warning[32m 65[2mms[22m[39m
[31m     [31mâ”œÃ¹[31m handles search functionality[39m[33m 1279[2mms[22m[39m
[31m     [31mâ”œÃ¹[31m triggers scrape all suppliers[39m[32m 150[2mms[22m[39m

Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â» Failed Tests 2 Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»

 FAIL  src/pages/inventory/__tests__/InventoryDashboard.test.tsx > Inventory Dashboard > handles search functionality
AssertionError: expected "vi.fn()" to be called with arguments: [ 'Router' ]

Received: 

  1st vi.fn() call:

  [
    "Router",
+   {
+     "client": QueryClient {},
+     "meta": undefined,
+     "mutationKey": undefined,
+   },
  ]


Number of calls: 1


Ignored nodes: comments, script, style
<html>
  <head />
  <body>
    <div>
      <div
        class="space-y-6"
      >
        <div
          class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"
        >
          <div>
            <h1
              class="text-3xl font-bold tracking-tight"
            >
              Inventory Management
            </h1>
            <p
              class="text-muted-foreground"
            >
              Manage products, stock levels, and supplier pricing
            </p>
          </div>
          <div
            class="flex gap-2"
          >
            <button
              class="justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2 flex items-center gap-2"
            >
              <svg
                class="lucide lucide-refresh-cw h-4 w-4"
                fill="none"
                height="24"
                stroke="currentColor"
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                viewBox="0 0 24 24"
                width="24"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"
                />
                <path
                  d="M21 3v5h-5"
                />
                <path
                  d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"
                />
                <path
                  d="M8 16H3v5"
                />
              </svg>
              Update Prices
            </button>
          </div>
        </div>
        <form
          class="flex gap-2"
        >
          <div
            class="relative flex-1"
          >
            <svg
              class="lucide lucide-search absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"
              fill="none"
              height="24"
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              viewBox="0 0 24 24"
              width="24"
              xmlns="http://www.w3.org/2000/svg"
            >
              <circle
                cx="11"
                cy="11"
                r="8"
              />
              <path
                d="m21 21-4.3-4.3"
              />
            </svg>
            <input
              class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm pl-10"
              placeholder="Search products by name, SKU, or category..."
              value="Router"
            />
          </div>
          <button
            class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"
            type="submit"
          >
            <svg
              class="lucide lucide-search h-4 w-4"
              fill="none"
              height="24"
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              viewBox="0 0 24 24"
              width="24"
              xmlns="http://www.w3.org/2000/svg"
            >
              <circle
                cx="11"
                cy="11"
                r="8"
              />
              <path
                d="m21 21-4.3-4.3"
              />
            </svg>
            Search
          </button>
        </form>
        <div
          class="grid gap-4 md:grid-cols-2 lg:grid-cols-4"
        >
          <div
            class="rounded-lg border bg-card text-card-foreground shadow-sm"
          >
            <div
              class="p-6 flex flex-row items-center justify-between space-y-0 pb-2"
            >
              <h3
                class="tracking-tight text-sm font-medium"
              >
                Total Products
              </h3>
              <svg
                class="lucide lucide-package h-4 w-4 text-muted-foreground"
                fill="none"
                height="24"
   ...
 Ã”Ã˜Â» src/pages/inventory/__tests__/InventoryDashboard.test.tsx:105:50
    103| 
    104|         await waitFor(() => {
    105|             expect(inventoryApi.searchInventory).toHaveBeenCalledWith(Ã”Ã‡Âª
       |                                                  ^
    106|         });
    107|     });
 Ã”Ã˜Â» runWithExpensiveErrorDiagnosticsDisabled node_modules/@testing-library/dom/dist/config.js:47:12
 Ã”Ã˜Â» checkCallback node_modules/@testing-library/dom/dist/wait-for.js:124:77
 Ã”Ã˜Â» Timeout.checkRealTimersCallback node_modules/@testing-library/dom/dist/wait-for.js:118:16

Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»[1/2]Ã”Ã„Â»

 FAIL  src/pages/inventory/__tests__/InventoryDashboard.test.tsx > Inventory Dashboard > triggers scrape all suppliers
TestingLibraryElementError: Found multiple elements with the role "button" and name `/update prices/i`

Here are the matching elements:

Ignored nodes: comments, script, style
<button
  class="justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2 flex items-center gap-2"
>
  <svg
    class="lucide lucide-refresh-cw h-4 w-4"
    fill="none"
    height="24"
    stroke="currentColor"
    stroke-linecap="round"
    stroke-linejoin="round"
    stroke-width="2"
    viewBox="0 0 24 24"
    width="24"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"
    />
    <path
      d="M21 3v5h-5"
    />
    <path
      d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"
    />
    <path
      d="M8 16H3v5"
    />
  </svg>
  Update Prices
</button>

Ignored nodes: comments, script, style
<button
  class="inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-9 rounded-md px-3"
>
  <svg
    class="lucide lucide-refresh-cw h-4 w-4 mr-1"
    fill="none"
    height="24"
    stroke="currentColor"
    stroke-linecap="round"
    stroke-linejoin="round"
    stroke-width="2"
    viewBox="0 0 24 24"
    width="24"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"
    />
    <path
      d="M21 3v5h-5"
    />
    <path
      d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"
    />
    <path
      d="M8 16H3v5"
    />
  </svg>
  Update Prices
</button>

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
<body>
  <div>
    <div
      class="space-y-6"
    >
      <div
        class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"
      >
        <div>
          <h1
            class="text-3xl font-bold tracking-tight"
          >
            Inventory Management
          </h1>
          <p
            class="text-muted-foreground"
          >
            Manage products, stock levels, and supplier pricing
          </p>
        </div>
        <div
          class="flex gap-2"
        >
          <button
            class="justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2 flex items-center gap-2"
          >
            <svg
              class="lucide lucide-refresh-cw h-4 w-4"
              fill="none"
              height="24"
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              viewBox="0 0 24 24"
              width="24"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"
              />
              <path
                d="M21 3v5h-5"
              />
              <path
                d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"
              />
              <path
                d="M8 16H3v5"
              />
            </svg>
            Update Prices
          </button>
        </div>
      </div>
      <form
        class="flex gap-2"
      >
        <div
          class="relative flex-1"
        >
          <svg
            class="lucide lucide-search absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"
            fill="none"
            height="24"
            stroke="currentColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            viewBox="0 0 24 24"
            width="24"
            xmlns="http://www.w3.org/2000/svg"
          >
            <circle
              cx="11"
              cy="11"
              r="8"
            />
            <path
              d="m21 21-4.3-4.3"
            />
          </svg>
          <input
            class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm pl-10"
            placeholder="Search products by name, SKU, or category..."
            value=""
          />
        </div>
        <button
          class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"
          type="submit"
        >
          <svg
            class="lucide lucide-search h-4 w-4"
            fill="none"
            height="24"
            stroke="currentColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            viewBox="0 0 24 24"
            width="24"
            xmlns="http://www.w3.org/2000/svg"
          >
            <circle
              cx="11"
              cy="11"
              r="8"
            />
            <path
              d="m21 21-4.3-4.3"
            />
          </svg>
          Search
        </button>
      </form>
      <div
        class="grid gap-4 md:grid-cols-2 lg:grid-cols-4"
      >
        <div
          class="rounded-lg border bg-card text-card-foreground shadow-sm"
        >
          <div
            class="p-6 flex flex-row items-center justify-between space-y-0 pb-2"
          >
            <h3
              class="tracking-tight text-sm font-medium"
            >
              Total Products
            </h3>
            <svg
              class="lucide lucide-package h-4 w-4 text-muted-foreground"
              fill="none"
              height="24"
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              viewBox="0 0 24 24"
              width="24"...
 Ã”Ã˜Â» Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 Ã”Ã˜Â» getElementError node_modules/@testing-library/dom/dist/query-helpers.js:20:35
 Ã”Ã˜Â» getMultipleElementsFoundError node_modules/@testing-library/dom/dist/query-helpers.js:23:10
 Ã”Ã˜Â» node_modules/@testing-library/dom/dist/query-helpers.js:55:13
 Ã”Ã˜Â» getByRole node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 Ã”Ã˜Â» src/pages/inventory/__tests__/InventoryDashboard.test.tsx:117:34
    115|         );
    116| 
    117|         const updateBtn = screen.getByRole('button', { name: /update pÃ”Ã‡Âª
       |                                  ^
    118|         fireEvent.click(updateBtn);
    119| 

Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»[2/2]Ã”Ã„Â»


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m2 failed[39m[22m[2m | [22m[1m[32m2 passed[39m[22m[90m (4)[39m
[2m   Start at [22m 20:15:01
[2m   Duration [22m 4.83s

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/pages/inventory/__tests__/InventoryDashboard.test.tsx [22m[34mx2 [34m[39m
       [2m Filename pattern: [22m[34msrc/pages/inventory/__tests__/InventoryDashboard.test.tsx, run[39m

[90mstdout[2m | src/pages/inventory/__tests__/InventoryDashboard.test.tsx[2m > [22m[2mInventory Dashboard[2m > [22m[2mhandles search functionality
[22m[39mSearch results: []

(node:14244) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
 [32mÃ”Â£Ã´[39m src/pages/inventory/__tests__/InventoryDashboard.test.tsx [2m([22m[2m4 tests[22m[2m)[22m[33m 1312[2mms[22m[39m
     [33m[2mÃ”Â£Ã´[22m[39m renders inventory dashboard correctly [33m 355[2mms[22m[39m
     [33m[2mÃ”Â£Ã´[22m[39m handles search functionality [33m 506[2mms[22m[39m
     [33m[2mÃ”Â£Ã´[22m[39m triggers scrape all suppliers [33m 327[2mms[22m[39m

[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m4 passed[39m[22m[90m (4)[39m
[2m   Start at [22m 20:39:58
[2m   Duration [22m 3.78s

[1m[42m PASS [49m[22m [32mWaiting for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2msrc/api/inventory.ts [22m[34mx3 [34m[39m
       [2m Filename pattern: [22m[34msrc/pages/inventory/__tests__/InventoryDashboard.test.tsx, run[39m

(node:22220) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
[90mstdout[2m | src/pages/inventory/__tests__/InventoryDashboard.test.tsx[2m > [22m[2mInventory Dashboard[2m > [22m[2mhandles search functionality
[22m[39mSearch results: []

 [32mÃ”Â£Ã´[39m src/pages/inventory/__tests__/InventoryDashboard.test.tsx [2m([22m[2m4 tests[22m[2m)[22m[33m 1713[2mms[22m[39m
     [33m[2mÃ”Â£Ã´[22m[39m renders inventory dashboard correctly [33m 584[2mms[22m[39m
     [33m[2mÃ”Â£Ã´[22m[39m handles search functionality [33m 716[2mms[22m[39m

[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m4 passed[39m[22m[90m (4)[39m
[2m   Start at [22m 23:43:06
[2m   Duration [22m 4.44s

[1m[42m PASS [49m[22m [32mWaiting for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
